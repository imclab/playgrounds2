{% extends '_base.html' %}

{% block body_class %}search{% endblock body_class %}

{% block extra_css %}
    {{ CSS.push('css/mapbox.css') }}
{% endblock %}

{% block extra_head %}
    <script type='text/javascript' src="http://api.tiles.mapbox.com/mapbox.js/v1.1.0/mapbox.js"></script>
{% endblock %}

{% block header_content %}
<header>
    <div class="container">
        <div class="row">
            <div class="span12">
                <h1><a href="../">{{ PROJECT_NAME }}</a></h1>
            </div>
        </div>
    </div>
</header>

{% include '_search_form.html' %}

{% endblock %}


{% block wide_content %}
<div id="main-content" class="row">
    <div class="span12">
        {% include '_alerts.html' %}

        <h3 id="results-address"></h3>

        <div id="search-help">
            <h3>Did you mean...?</h3>
            <ul></ul>
        </div>

        <div id="map-loading">Searching...</div>

        <div id="no-geocode">
            <h3>Sorry, we couldn't locate that address.</h3>
        </div>

    </div>
    <div class="span6">

            <div id="search-results-wrapper">
                <div id="search-results-map-wrapper">
                    <div id="search-results-map-desktop"></div>
                    <img id="search-results-map" src="" />
                    <img id="search-results-map-loading" src="img/loading.gif" />
                    <div id="search-results-map-loading-text">Searching...</div>

                <div class="zoom-buttons">
                    <button type="button" id="zoom-in" class="btn-zoom">+</button>
                    <button type="button" id="zoom-out" class="btn-zoom">-</button>
                </div>
            </div>
        </div>

    </div>
    <div class="span6">

        <div id="search-results">
            <div id="results-loading">Loading...</div>
            <ul class="playground-list">
            </ul>
        </div>

        <div id="search-help-prompt" class="help-prompt">
            <p class="prompt">{{ COPY.content.search_help_title }}</p>
            <p><a href="create.html" class="btn btn-blue btn-block"><i class="icon-plus-sign"></i> {{ COPY.content.search_help_button }}</a></p>
        </div>

    </div>
</div>
{% endblock %}


{% block extra_foot_js %}
    {{ JS.push('js/lib/underscore.js') }}
    {{ JS.push('js/lib/moment.js') }}
    {{ JS.push('js/lib/bootstrap.js') }}
    {{ JS.push('js/lib/jquery.ba-bbq.js') }}
    {{ JS.push('js/lib/jquery.smooth-scroll.js') }}
    {{ JS.push('js/templates.js') }}
    {{ JS.push('js/search.js') }}
    {{ JS.push('js/utils.js') }}
    {{ JS.render('js/app-search-footer.min.js') }}
{% endblock %}
